<?php
Route::namespace('Admin')->prefix('admin')->group(function(){
    Route::prefix('home')->group(function(){
        Route::get('index',[
            'uses'=>'HomeController@index',
            'as'=>'admin.home.index'
        ]);
    });
    Route::prefix('category')->group(function(){
        Route::get('index',[
            'uses'=>'CategoryController@index',
            'as'=>'admin.category.index'
        ]);
        Route::get('add',[
            'uses'=>'CategoryController@add',
            'as'=>'admin.category.add'
        ]);
        Route::post('add',[
            'uses'=>'CategoryController@postAdd',
            'as'=>'admin.category.add'
        ]);
        Route::get('edit/{id}',[
            'uses'=>'CategoryController@edit',
            'as'=>'admin.category.edit'
        ]);
        Route::post('edit/{id}',[
            'uses'=>'CategoryController@postEdit',
            'as'=>'admin.category.edit'
        ]);
        Route::get('del/{id}',[
            'uses'=>'CategoryController@del',
            'as'=>'admin.category.del'
        ]);
        Route::prefix('product')->group(function(){
            Route::get('index/{id_category}',[
                'uses'=>'CategoryController@indexProduct',
                'as'=>'admin.category.product.index'
            ]);
            Route::post('view/{id_category}',[
                'uses'=>'CategoryController@viewProduct',
                'as'=>'admin.category.product.view'
            ]);
            Route::get('add/{id_category}',[
                'uses'=>'CategoryController@addProduct',
                'as'=>'admin.category.product.add'
            ]);
            Route::post('add/{id_category}',[
                'uses'=>'CategoryController@postAddProduct',
                'as'=>'admin.category.product.add'
            ]);
            Route::get('del',[
                'uses'=>'CategoryController@delProduct',
                'as'=>'admin.category.product.del'
            ]);
        });
    });
    Route::prefix('product')->group(function(){
        Route::get('index',[
            'uses'=>'ProductController@index',
            'as'=>'admin.product.index'
        ]);
        Route::post('view',[
            'uses'=>'ProductController@view',
            'as'=>'admin.product.view'
        ]);
        Route::get('add',[
            'uses'=>'ProductController@add',
            'as'=>'admin.product.add'
        ]);
        Route::post('add',[
            'uses'=>'ProductController@postAdd',
            'as'=>'admin.product.add'
        ]);
        Route::get('edit/{id}',[
            'uses'=>'ProductController@edit',
            'as'=>'admin.product.edit'
        ]);
        Route::post('edit/{id}',[
            'uses'=>'ProductController@postEdit',
            'as'=>'admin.product.edit'
        ]);
        Route::get('active',[
            'uses'=>'ProductController@active',
            'as'=>'admin.product.active'
        ]);
        Route::get('del',[
            'uses'=>'ProductController@del',
            'as'=>'admin.product.del'
        ]);
    });
    Route::prefix('sale')->group(function(){
        Route::get('index',[
            'uses'=>'SaleController@index',
            'as'=>'admin.sale.index'
        ]);
        Route::post('view',[
            'uses'=>'SaleController@view',
            'as'=>'admin.sale.view'
        ]);
        Route::get('add',[
            'uses'=>'SaleController@add',
            'as'=>'admin.sale.add'
        ]);
        Route::post('add',[
            'uses'=>'SaleController@postAdd',
            'as'=>'admin.sale.add'
        ]);
        Route::get('edit/{id}',[
            'uses'=>'SaleController@edit',
            'as'=>'admin.sale.edit'
        ]);
        Route::post('edit/{id}',[
            'uses'=>'SaleController@postEdit',
            'as'=>'admin.sale.edit'
        ]);
        Route::get('active',[
            'uses'=>'SaleController@active',
            'as'=>'admin.sale.active'
        ]);
        Route::get('del/{id}',[
            'uses'=>'SaleController@del',
            'as'=>'admin.sale.del'
        ]);
        Route::prefix('product')->group(function(){
            Route::get('index/{id_sale}',[
                'uses'=>'SaleController@indexProduct',
                'as'=>'admin.sale.product.index'
            ]);
            Route::post('view/{id_sale}',[
                'uses'=>'SaleController@viewProduct',
                'as'=>'admin.sale.product.view'
            ]);
            Route::get('add/{id_sale}',[
                'uses'=>'SaleController@addSaleProduct',
                'as'=>'admin.sale.product.add'
            ]);
            Route::get('list',[
                'uses'=>'SaleController@list',
                'as'=>'admin.sale.product.list'
            ]);
            Route::post('add/{id_sale}',[
                'uses'=>'SaleController@addPostSaleProduct',
                'as'=>'admin.sale.product.add'
            ]);
            Route::get('del',[
                'uses'=>'SaleController@delSaleProduct',
                'as'=>'admin.sale.product.del'
            ]);
        });
    });
});
Route::namespace('Book')->group(function(){
    Route::get('/',[
        'uses'=>'HomeController@index',
        'as'=>'book.home.index'
    ]);
    Route::get('/gioi-thieu.html',[
        'uses'=>'AboutController@index',
        'as'=>'book.about.index'
    ]);
    Route::get('/{url}.html',[
        'uses'=>'CategoryController@index',
        'as'=>'book.category.index'
    ]);
    Route::get('/sach/{url}.html',[
        'uses'=>'ProductController@index',
        'as'=>'book.product.index'
    ]);
    Route::prefix('su-kien-sale')->group(function(){
        route::get('',[
            'uses'=>'SaleController@index',
            'as'=>'book.sale.index'
        ]);
        route::get('{url}.html',[
            'uses'=>'SaleController@detail',
            'as'=>'book.sale.detail'
        ]);
    });
});